---
import Layout from '@components/Layout.astro';

import { getCollection } from 'astro:content';

const posts = await getCollection('posts', ({ data }) => {
    return data.status === 'published' && data.isFeatured === true;
});
---

<Layout title="Dishan Sachin" description="Dishan Sachin's personal website">
    <h1 class="mb-3 text-3xl font-bold text-white">Hi, I'm Dishan Sachin</h1>
    <p class="text-lg text-zinc-300">
        I'm a backend developer, currently working on my own company called
        Ruzzz with one of my friends. I love working in teams, so let's connect
        and see if there's a chance to work together!
    </p>
    <section class="mt-12">
        <h2 class="text-3xl font-semibold text-white">I write ⌨️</h2>
        {
            posts.map((post) => {
                return (
                    <article class="my-6">
                        <h3 class="w-fit text-xl">
                            <a
                                href={`/blog/${post.slug}`}
                                class="text-white hover:text-main hover:underline"
                            >
                                {post.data.title}
                            </a>
                        </h3>
                        <p class="text-base text-zinc-300">
                            {post.data.description}
                        </p>
                    </article>
                );
            })
        }
    </section>
</Layout>
